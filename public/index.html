<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Speakerbox</title>
  <meta name="description" content="Speech-to-music toolbox">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="apple-touch-icon" href="icon.png">

  <link rel="stylesheet" href="css/vendor/normalize.css">
  <link rel="stylesheet" href="css/app.css">

  <meta name="theme-color" content="#fafafa">
</head>

<body>
  <div id="app" class="app">
    <nav id="controls" class="nav controls">
      <div class="control-group">
        <div class="top select-group group-1">
          <label for="select-pattern" class="visually-hidden">Drum pattern</label>
          <select id="select-pattern" class="select-pattern control">
            <option value="0">Drum Pattern A</option>
          </select>
        </div>
        <div class="button-group button-group-3 bottom">
          <button id="randomize-pattern" class="control" data-action="randomize-pattern">
            <span class="visually-hidden">Random pattern</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-shuffle" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M18 5h-2v2h2v2h-6v2h-2v6H2v2h8v-2h2v-6h6v2h-2v2h2v-2h2v-2h2V9h-2V7h-2V5zM2 9h6v2H2V9zm20 10v-2h-8v2h8z"/></svg>
          </button>
          <button id="previous-pattern" class="control" data-action="previous-pattern">
            <span class="visually-hidden">Previous pattern</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-left" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16 5v2h-2V5h2zm-4 4V7h2v2h-2zm-2 2V9h2v2h-2zm0 2H8v-2h2v2zm2 2v-2h-2v2h2zm0 0h2v2h-2v-2zm4 4v-2h-2v2h2z"/></svg>
          </button>
          <button id="next-pattern" class="control" data-action="next-pattern">
            <span class="visually-hidden">Next pattern</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-right" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v2h2V5H8zm4 4V7h-2v2h2zm2 2V9h-2v2h2zm0 2h2v-2h-2v2zm-2 2v-2h2v2h-2zm0 0h-2v2h2v-2zm-4 4v-2h2v2H8z"/></svg>
          </button>
        </div>
      </div>
      <div class="control-group">
        <button id="play-kick" class="top control" data-action="play-instrument" data-value="kick">Kick</button>
        <div class="button-group bottom button-group-3">
          <button id="toggle-kick" class="control toggle-sound active" data-action="toggle-instrument" data-value="kick">
            <span class="visually-hidden">Toggle kick sound</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-on icon icon-speaker" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M11 2h2v20h-2v-2H9v-2h2V6H9V4h2V2zM7 8V6h2v2H7zm0 8H3V8h4v2H5v4h2v2zm0 0v2h2v-2H7zm10-6h-2v4h2v-4zm2-2h2v8h-2V8zm0 8v2h-4v-2h4zm0-10v2h-4V6h4z"/></svg>
            <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-off icon icon-mute" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M13 2h-2v2H9v2H7v2H3v8h4v2h2v2h2v2h2V2zM9 18v-2H7v-2H5v-4h2V8h2V6h2v12H9zm10-6.777h-2v-2h-2v2h2v2h-2v2h2v-2h2v2h2v-2h-2v-2zm0 0h2v-2h-2v2z"/></svg>
          </button>
          <button id="previous-kick" class="control" data-action="previous-instrument" data-value="kick">
            <span class="visually-hidden">Previous kick drum</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-left" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16 5v2h-2V5h2zm-4 4V7h2v2h-2zm-2 2V9h2v2h-2zm0 2H8v-2h2v2zm2 2v-2h-2v2h2zm0 0h2v2h-2v-2zm4 4v-2h-2v2h2z"/></svg>
          </button>
          <button id="next-kick" class="control" data-action="next-instrument" data-value="kick">
            <span class="visually-hidden">Next kick drum</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-right" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v2h2V5H8zm4 4V7h-2v2h2zm2 2V9h-2v2h2zm0 2h2v-2h-2v2zm-2 2v-2h2v2h-2zm0 0h-2v2h2v-2zm-4 4v-2h2v2H8z"/></svg>
          </button>
        </div>
      </div>
      <div class="control-group">
        <button id="play-snare" class="top control" data-action="play-instrument" data-value="snare">Snare</button>
        <div class="button-group bottom button-group-3">
          <button id="toggle-snare" class="control toggle-sound active" data-action="toggle-instrument" data-value="snare">
            <span class="visually-hidden">Toggle snare sound</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-on icon icon-speaker" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M11 2h2v20h-2v-2H9v-2h2V6H9V4h2V2zM7 8V6h2v2H7zm0 8H3V8h4v2H5v4h2v2zm0 0v2h2v-2H7zm10-6h-2v4h2v-4zm2-2h2v8h-2V8zm0 8v2h-4v-2h4zm0-10v2h-4V6h4z"/></svg>
            <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-off icon icon-mute" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M13 2h-2v2H9v2H7v2H3v8h4v2h2v2h2v2h2V2zM9 18v-2H7v-2H5v-4h2V8h2V6h2v12H9zm10-6.777h-2v-2h-2v2h2v2h-2v2h2v-2h2v2h2v-2h-2v-2zm0 0h2v-2h-2v2z"/></svg>
          </button>
          <button id="previous-snare" class="control" data-action="previous-instrument" data-value="snare">
            <span class="visually-hidden">Previous snare drum</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-left" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16 5v2h-2V5h2zm-4 4V7h2v2h-2zm-2 2V9h2v2h-2zm0 2H8v-2h2v2zm2 2v-2h-2v2h2zm0 0h2v2h-2v-2zm4 4v-2h-2v2h2z"/></svg>
          </button>
          <button id="next-snare" class="control" data-action="next-instrument" data-value="snare">
            <span class="visually-hidden">Next snare drum</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-right" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v2h2V5H8zm4 4V7h-2v2h2zm2 2V9h-2v2h2zm0 2h2v-2h-2v2zm-2 2v-2h2v2h-2zm0 0h-2v2h2v-2zm-4 4v-2h2v2H8z"/></svg>
          </button>
        </div>
      </div>
      <div class="control-group">
        <button id="play-hihat" class="top control" data-action="play-instrument" data-value="hihat">Hihat</button>
        <div class="button-group bottom button-group-3">
          <button id="toggle-hihat" class="control toggle-sound active" data-action="toggle-instrument" data-value="hihat">
            <span class="visually-hidden">Toggle hihat sound</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-on icon icon-speaker" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M11 2h2v20h-2v-2H9v-2h2V6H9V4h2V2zM7 8V6h2v2H7zm0 8H3V8h4v2H5v4h2v2zm0 0v2h2v-2H7zm10-6h-2v4h2v-4zm2-2h2v8h-2V8zm0 8v2h-4v-2h4zm0-10v2h-4V6h4z"/></svg>
            <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-off icon icon-mute" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M13 2h-2v2H9v2H7v2H3v8h4v2h2v2h2v2h2V2zM9 18v-2H7v-2H5v-4h2V8h2V6h2v12H9zm10-6.777h-2v-2h-2v2h2v2h-2v2h2v-2h2v2h2v-2h-2v-2zm0 0h2v-2h-2v2z"/></svg>
          </button>
          <button id="previous-hihat" class="control" data-action="previous-instrument" data-value="hihat">
            <span class="visually-hidden">Previous hihat drum</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-left" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16 5v2h-2V5h2zm-4 4V7h2v2h-2zm-2 2V9h2v2h-2zm0 2H8v-2h2v2zm2 2v-2h-2v2h2zm0 0h2v2h-2v-2zm4 4v-2h-2v2h2z"/></svg>
          </button>
          <button id="next-hihat" class="control" data-action="next-instrument" data-value="hihat">
            <span class="visually-hidden">Next hihat drum</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-right" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v2h2V5H8zm4 4V7h-2v2h2zm2 2V9h-2v2h2zm0 2h2v-2h-2v2zm-2 2v-2h2v2h-2zm0 0h-2v2h2v-2zm-4 4v-2h2v2H8z"/></svg>
          </button>
        </div>
      </div>
      <div class="control-group">
        <button id="play-vocal" class="top control" data-action="play-vocal" data-value="kick">Vocal</button>
        <div class="button-group bottom button-group-3">
          <button id="toggle-vocal" class="control toggle-sound active" data-action="toggle-instrument" data-value="vocal">
            <span class="visually-hidden">Toggle vocal sound</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-on icon icon-speaker" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M11 2h2v20h-2v-2H9v-2h2V6H9V4h2V2zM7 8V6h2v2H7zm0 8H3V8h4v2H5v4h2v2zm0 0v2h2v-2H7zm10-6h-2v4h2v-4zm2-2h2v8h-2V8zm0 8v2h-4v-2h4zm0-10v2h-4V6h4z"/></svg>
            <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-off icon icon-mute" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M13 2h-2v2H9v2H7v2H3v8h4v2h2v2h2v2h2V2zM9 18v-2H7v-2H5v-4h2V8h2V6h2v12H9zm10-6.777h-2v-2h-2v2h2v2h-2v2h2v-2h2v2h2v-2h-2v-2zm0 0h2v-2h-2v2z"/></svg>
          </button>
          <button id="previous-vocal" class="control" data-action="previous-instrument" data-value="vocal">
            <span class="visually-hidden">Previous vocal</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-left" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16 5v2h-2V5h2zm-4 4V7h2v2h-2zm-2 2V9h2v2h-2zm0 2H8v-2h2v2zm2 2v-2h-2v2h2zm0 0h2v2h-2v-2zm4 4v-2h-2v2h2z"/></svg>
          </button>
          <button id="next-vocal" class="control" data-action="next-instrument" data-value="vocal">
            <span class="visually-hidden">Next vocal</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-right" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v2h2V5H8zm4 4V7h-2v2h2zm2 2V9h-2v2h2zm0 2h2v-2h-2v2zm-2 2v-2h2v2h-2zm0 0h-2v2h2v-2zm-4 4v-2h2v2H8z"/></svg>
          </button>
        </div>
      </div>
      <div class="control-group">
        <div class="top input-group group-1">
          <label for="input-speed">BPM</label>
          <input id="input-speed" class="input-speed control" type="number" min="60" max="240" value="120" step="1" />
        </div>
        <div class="button-group bottom">
          <button id="decrease-speed" class="control" data-action="decrease-speed">
            <span class="visually-hidden">Decrease playback speed</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-left" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16 5v2h-2V5h2zm-4 4V7h2v2h-2zm-2 2V9h2v2h-2zm0 2H8v-2h2v2zm2 2v-2h-2v2h2zm0 0h2v2h-2v-2zm4 4v-2h-2v2h2z"/></svg>
          </button>
          <button id="increase-speed" class="control" data-action="increase-speed">
            <span class="visually-hidden">Increase playback speed</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-arrow-right" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v2h2V5H8zm4 4V7h-2v2h2zm2 2V9h-2v2h2zm0 2h2v-2h-2v2zm-2 2v-2h2v2h-2zm0 0h-2v2h2v-2zm-4 4v-2h2v2H8z"/></svg>
          </button>
        </div>
      </div>
      <div class="control-group control-group-play">
        <label for="input-autoplay" class="top checkbox-button control">
          <input type="checkbox" id="input-autoplay" class="input-autoplay" value="1" checked />
          <span class="checkbox-label">Autoplay</span>
        </label>
        <button id="toggle-play" class="control toggle-play bottom" data-action="toggle-play">
          <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-off icon icon-play" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M10 20H8V4h2v2h2v3h2v2h2v2h-2v2h-2v3h-2v2z"/></svg>
          <svg xmlns="http://www.w3.org/2000/svg" class="toggle active-on icon icon-pause" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M10 4H5v16h5V4zm9 0h-5v16h5V4z"/></svg>
        </button>
      </div>
    </nav>
    <main class="main">
      <h1>
        <img src="icon.png" alt="Speakerbox logo comprised of an open mouth with a red speaker s a tongue" class="icon" />
        <span class="text title">Speakerbox</span> <small class="text tagline">"Beatbox with historical speeches"</small>
      </h1>
      <div id="transcript-selector" class="transcript-selector">
        <div class="wrapper">
          <label for="transcript-select">Select a transcript:</label>
          <select id="transcript-select" class="transcript-select">
            <option value="0">Speech by Fiorello H. La Guardia, New York</option>
          </select>
          <div id="metadata" class="metadata">
            <a href="#" target="_blank">Source: Library of Congress</a>
          </div>
        </div>
      </div>
      <div id="transcript" class="transcript">
        <p>Loading...</p>
      </div>
    </main>
  </div>

  <div id="transcript-template" class="template">
    <div class="text">
    {{#words}}
      <div class="word-wrapper{{className}}" data-index="{{index}}">
        {{#hasPrepend}}
          <div class="non-word prepend">{{prepend}}</div>
        {{/hasPrepend}}
        {{#phones}}
          <button id="{{id}}" class="clip phone{{className}}" data-word="{{wordIndex}}" data-phone="{{index}}">
          <span class="original-text">{{{displayText}}}</span>
          <span class="ghost-text">{{{displayText}}}</span>
          <span class="phone-text">{{text}}</span>
          </button>
        {{/phones}}
        <!-- {{#text}}
        <button id="{{id}}" class="clip word" data-word="{{index}}">
        <span class="visually-hidden">{{text}}</span>
        </button>
        {{/text}} -->
        {{#hasAppend}}
          <div class="non-word append">{{append}}</div>
        {{/hasAppend}}
      </div>
    {{/words}}
    </div>
  </div>

  <div id="dataviz-template" class="template">
    <div class="dataviz">
    {{#features}}
      <div id="feature-{{name}}" class="feature">
        <div class="bar"></div>
        <select data-feature="{{name}}" class="sort control">
          <option value="">-</option>
          <option value="asc">↑</option>
          <option value="desc">↓</option>
        </select>
        <input type="number" min="0" max="1" step="0.01" value="0" data-feature="{{name}}" class="filter-min control" />
        <input type="number" min="0" max="1" step="0.01" value="1" data-feature="{{name}}" class="filter-max control" />
        <div class="value"></div>
        <div class="label" title="{{description}}">{{name}}</div>
      </div>
    {{/features}}
    </div>
  </div>

  <script src="js/vendor/jquery-3.6.1.min.js"></script>
  <script src="js/vendor/mustache.min.js"></script>
  <script src="js/vendor/tone-midi-2.0.28.min.js"></script>
  <script src="js/vendor/tuna-min.js"></script>
  <script src="js/vendor/underscore-umd-1.13.6.min.js"></script>

  <script src="js/lib/App.js"></script>
  <script src="js/lib/AudioPlayer.js"></script>
  <script src="js/lib/DataViz.js"></script>
  <script src="js/lib/MathUtil.js"></script>
  <script src="js/lib/Pointer.js"></script>
  <script src="js/lib/PointerManager.js"></script>
  <script src="js/lib/Sequencer.js"></script>
  <script src="js/lib/StringUtil.js"></script>
  <script src="js/lib/Transcript.js"></script>

  <script src="js/main.js"></script>

</body>

</html>
